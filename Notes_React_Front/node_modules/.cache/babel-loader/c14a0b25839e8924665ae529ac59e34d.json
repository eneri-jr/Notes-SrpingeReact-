{"ast":null,"code":"var _jsxFileName = \"/home/juniorleal/Documentos/projeto_notas/javascript_note/src/components/notes/index.js\";\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { Column, Button, Section } from \"rbx\";\nimport \"../../styles/notes.scss\";\nimport { push as Menu } from 'react-burger-menu';\nimport List from \"../notes/list\";\nimport NoteService from '../../services/notes';\nimport Editor from \"../notes/editor\";\nimport Search from \"../notes/search\";\n\nfunction Notes(props) {\n  const [notes, setNotes] = useState([]);\n  const [current_note, setCurrentNote] = useState({\n    title: \"\",\n    body: \"\",\n    id: \"\"\n  });\n\n  async function fetchNotes() {\n    const response = await NoteService.index();\n\n    if (response.data.length >= 1) {\n      setNotes(response.data.reverse());\n      setCurrentNote(response.data[0]);\n    }\n  }\n\n  const selectNote = id => {\n    const note = notes.find(note => {\n      return note._id == id;\n    });\n    setCurrentNote(note);\n  };\n\n  useEffect(() => {\n    fetchNotes();\n  }, []);\n\n  const createNote = async params => {\n    const note = await NoteService.create();\n    fetchNotes();\n  };\n\n  const deleteNote = async note => {\n    await NoteService.delete(note._id);\n    fetchNotes();\n  };\n\n  const updateNote = async (oldNote, params) => {\n    const updatedNote = await NoteService.update(oldNote._id, params);\n    const index = notes.indexOf(oldNote);\n    const newNotes = notes;\n    newNotes[index] = updatedNote.data;\n    setNotes(newNotes);\n    setCurrentNote(updatedNote.data);\n  };\n\n  const searchNotes = async query => {\n    const response = await NoteService.search(query);\n    setNotes(response.data);\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Column.Group, {\n    className: \"notes\",\n    id: \"notes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    pageWrapId: \"notes-editor\",\n    isOpen: props.isOpen,\n    onStateChange: state => props.setIsOpen(state.isOpen),\n    disableAutoFocus: true,\n    outerContainerId: \"notes\",\n    customBurgerIcon: false,\n    customCrossIcon: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Column.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Column, {\n    size: 10,\n    offset: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    searchNotes: searchNotes,\n    fetchNotes: fetchNotes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(List, {\n    notes: notes,\n    selectNote: selectNote,\n    deleteNote: deleteNote,\n    createNote: createNote,\n    current_note: current_note,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Column, {\n    size: 12,\n    className: \"notes-editor\",\n    id: \"notes-editor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Editor, {\n    note: current_note,\n    updateNote: updateNote,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default Notes;","map":{"version":3,"sources":["/home/juniorleal/Documentos/projeto_notas/javascript_note/src/components/notes/index.js"],"names":["React","Fragment","useEffect","useState","Column","Button","Section","push","Menu","List","NoteService","Editor","Search","Notes","props","notes","setNotes","current_note","setCurrentNote","title","body","id","fetchNotes","response","index","data","length","reverse","selectNote","note","find","_id","createNote","params","create","deleteNote","delete","updateNote","oldNote","updatedNote","update","indexOf","newNotes","searchNotes","query","search","isOpen","state","setIsOpen"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport { Column, Button, Section } from \"rbx\";\nimport \"../../styles/notes.scss\";\nimport { push as Menu } from 'react-burger-menu';\nimport List from \"../notes/list\";\nimport NoteService from '../../services/notes';\nimport Editor from \"../notes/editor\";\nimport Search from \"../notes/search\";\n\n\nfunction Notes(props) {\n\n  const [notes, setNotes] = useState([]);\n  const [current_note, setCurrentNote] = useState({ title: \"\", body: \"\", id: \"\" });\n\n  async function fetchNotes() {\n    const response = await NoteService.index();\n    if (response.data.length >= 1) {\n      setNotes(response.data.reverse())\n      setCurrentNote(response.data[0])\n    }\n  }\n\n  const selectNote = (id) => {\n    const note = notes.find((note) => {\n      return note._id == id;\n    })\n    setCurrentNote(note);\n  }\n  \n  useEffect(() => {\n    fetchNotes();\n  }, []);\n\n  const createNote = async (params) => {\n    const note = await NoteService.create();\n    fetchNotes();\n  }\n\n  const deleteNote = async (note) => {\n    await NoteService.delete(note._id);\n    fetchNotes();\n  }\n\n  const updateNote = async (oldNote, params) => {\n    const updatedNote = await NoteService.update(oldNote._id, params);\n    const index = notes.indexOf(oldNote);\n    const newNotes = notes;\n    newNotes[index] = updatedNote.data;\n    setNotes(newNotes);\n    setCurrentNote(updatedNote.data);\n  }\n\n  const searchNotes = async (query) => {\n    const response = await NoteService.search(query);\n    setNotes(response.data);\n  }\n\n  return (\n    <Fragment>\n      <Column.Group className=\"notes\" id=\"notes\">\n        <Menu \n          pageWrapId={\"notes-editor\"} \n          isOpen={ props.isOpen }\n          onStateChange={(state) => props.setIsOpen(state.isOpen)}\n          disableAutoFocus \n          outerContainerId={\"notes\"}\n          customBurgerIcon={ false }\n          customCrossIcon={ false }\n        >\n          <Column.Group>\n            <Column size={10} offset={1}>\n              <Search searchNotes={searchNotes} fetchNotes={fetchNotes} />\n            </Column>\n          </Column.Group>\n          <List\n            notes={notes}\n            selectNote={selectNote}\n            deleteNote={deleteNote}\n            createNote={createNote}\n            current_note={current_note} />\n        </Menu>\n\n\n        <Column size={12} className=\"notes-editor\" id=\"notes-editor\">\n          <Editor\n            note={current_note}\n            updateNote={updateNote}\n          />\n        </Column>\n      </Column.Group>\n    </Fragment>\n  )\n}\n\nexport default Notes;"]},"metadata":{},"sourceType":"module"}